# Professional Refactoring - Personality Transplant

Transform the "Pickle Rick" extension into a professional, intent-oriented "Architect Loop" codebase while maintaining **1:1 functional parity**.

> [!IMPORTANT]
> This is a **text-only refactoring**. No logic, API behavior, data flow, or type structures are changed. Only identifiers, file names, user-facing text, and persona content are modified.

## Proposed Changes

### Config & Manifest

#### [MODIFY] [gemini-extension.json](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/gemini-extension.json)
- Change `"name": "pickle-rick"` â†’ `"name": "architect-loop"`

#### [MODIFY] [package.json](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/package.json)
- Change `"name": "pickle-rick-extension"` â†’ `"name": "architect-loop-extension"`
- Update description, repository URLs

#### [MODIFY] [extension/package.json](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/package.json)
- Change `"name": "pickle-rick-scripts"` â†’ `"name": "architect-loop-scripts"`

#### [RENAME] [pickle_settings.json](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/pickle_settings.json) â†’ [settings.json](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/pickle_settings.json)
- No content changes needed (pure data file)

---

### Core Services (TypeScript Source)

#### [RENAME+MODIFY] [pickle-utils.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/pickle-utils.ts) â†’ [core-utils.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/pickle-utils.ts)
- [getExtensionRoot()](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/pickle-utils.ts#155-158): `'pickle-rick'` â†’ `'architect-loop'`
- Default emoji `'ðŸ¥’'` â†’ `'âš™ï¸'` in [printMinimalPanel](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/pickle-utils.ts#48-85)
- All imports across codebase updated: [pickle-utils.js](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/services/pickle-utils.js) â†’ `core-utils.js`

#### [MODIFY] [git-utils.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/git-utils.ts)
- Fallback `'pickle-rick'` â†’ `'architect-loop'` in [get_github_user()](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/git-utils.ts#25-36)
- Import path update

#### [MODIFY] [jar-utils.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/jar-utils.ts)
- `'marinating'` â†’ `'queued'`, `'JARRED'` â†’ `'QUEUED'`
- `'Task successfully jarred'` â†’ `'Task successfully queued'`
- Import path update

#### [MODIFY] [pr-factory.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/services/pr-factory.ts)
- PR title: `'Pickle Rick:'` â†’ `'Architect Loop:'`
- PR body: `'Generated by Pickle Rick.'` â†’ `'Generated by Architect Loop.'`
- Import path update

---

### Bin Scripts (TypeScript Source)

#### [MODIFY] [setup.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/bin/setup.ts)
- `'pickle_settings.json'` â†’ `'settings.json'`
- Panel title: `'Pickle Rick Activated!'` â†’ `'Loop Activated!'`
- Emoji: `'ðŸ¥’'` â†’ `'âš™ï¸'`
- Import path update

#### [RENAME+MODIFY] [spawn-morty.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/bin/spawn-morty.ts) â†’ `spawn-worker.ts`
- Panel: `'Spawning Morty Worker'` â†’ `'Spawning Worker'`
- Emoji: `'ðŸ¥’'` â†’ `'âš™ï¸'`
- TOML ref: `'send-to-morty.toml'` â†’ `'dispatch-worker.toml'`
- Fallback prompt: `'Morty Worker'` â†’ `'Execution Worker'`
- Env vars: `PICKLE_STATE_FILE` â†’ `LOOP_STATE_FILE`, `PICKLE_ROLE` â†’ `AGENT_ROLE`
- `'load-pickle-persona'` â†’ `'load-persona'`
- Import path update

#### [RENAME+MODIFY] [spawn-rick.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/bin/spawn-rick.ts) â†’ `spawn-manager.ts`
- Banner: `'Rick Cycle Initialized'` â†’ `'Manager Initialized'`
- Import path update

#### [MODIFY] [worker-setup.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/bin/worker-setup.ts)
- Panel: `'Morty Worker Initialized'` â†’ `'Worker Initialized'`
- Emoji: `'ðŸ‘¶'` â†’ `'âš™ï¸'`
- Import path update

#### [MODIFY] [jar-runner.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/bin/jar-runner.ts)
- `'Pickle Jar is empty'` â†’ `'Task queue is empty'`
- `'Opening Jar:'` â†’ `'Processing Task:'`
- `'marinating'` â†’ `'queued'`, `'consumed'` â†’ `'completed'`
- `/pickle` â†’ `/loop` in spawn command
- Import path update

---

### Hook Handlers (TypeScript Source)

#### [MODIFY] [dispatch.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/hooks/dispatch.ts)
- `'pickle-rick'` â†’ `'architect-loop'` in `EXTENSION_DIR`

#### [MODIFY] [reinforce-persona.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/hooks/handlers/reinforce-persona.ts)
- `'pickle-rick'` â†’ `'architect-loop'`
- `PICKLE_STATE_FILE` â†’ `LOOP_STATE_FILE`
- System message: character text â†’ professional architect text

#### [MODIFY] [stop-hook.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/hooks/handlers/stop-hook.ts)
- `'pickle-rick'` â†’ `'architect-loop'`
- `PICKLE_STATE_FILE` â†’ `LOOP_STATE_FILE`, `PICKLE_ROLE` â†’ `AGENT_ROLE`
- All `'ðŸ¥’ **Pickle Rick Loop Active**'` â†’ `'âš™ï¸ **Iteration Loop Active**'`
- Feedback messages professionalized

#### [MODIFY] [check-limit.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/hooks/handlers/check-limit.ts)
- `'pickle-rick'` â†’ `'architect-loop'`
- `PICKLE_STATE_FILE` â†’ `LOOP_STATE_FILE`
- `'Jar complete'` â†’ `'Queue complete'`, `'Jar processing complete'` â†’ `'Queue processing complete'`

#### [MODIFY] [increment-iteration.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/hooks/handlers/increment-iteration.ts)
- `'pickle-rick'` â†’ `'architect-loop'`
- `PICKLE_STATE_FILE` â†’ `LOOP_STATE_FILE`, `PICKLE_ROLE` â†’ `AGENT_ROLE`

---

### Commands (TOML files â€” full rewrites)

All 7 command files renamed and rewritten to remove character theming:

| Old File | New File |
| :--- | :--- |
| [pickle.toml](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/commands/pickle.toml) | `loop.toml` |
| [pickle-prd.toml](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/commands/pickle-prd.toml) | `draft-prd.toml` |
| [eat-pickle.toml](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/commands/eat-pickle.toml) | `stop-loop.toml` |
| [help-pickle.toml](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/commands/help-pickle.toml) | `help.toml` |
| [add-to-pickle-jar.toml](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/commands/add-to-pickle-jar.toml) | `queue-task.toml` |
| [pickle-jar-open.toml](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/commands/pickle-jar-open.toml) | `run-queue.toml` |
| [send-to-morty.toml](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/commands/send-to-morty.toml) | `dispatch-worker.toml` |

Key changes in each: persona injection calls `load-persona` instead of `load-pickle-persona`, terminology uses "manager"/"worker" instead of "Rick"/"Morty", all character catchphrases and belches removed, instructions rewritten in professional language.

---

### Skills (SKILL.md files)

#### [RENAME] `skills/load-pickle-persona/` â†’ `skills/load-persona/`
- Complete rewrite from character persona to professional architect persona
- Retains the same behavior: defines voice, philosophy, lifecycle commentary

#### [MODIFY] All 8 other skill SKILL.md files
- Remove `ðŸ¥’ Pickle Rick Persona (MANDATORY)` footer sections from each
- Replace with professional `Agent Persona (MANDATORY)` sections
- Replace character-specific language ("Jerry-work", "Morty", "Rick", etc.) throughout

---

### Hooks, Theme & Docs

#### [MODIFY] [hooks.json](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/hooks/hooks.json)
- `"reinforce-pickle-persona"` â†’ `"reinforce-persona"`
- `"pickle-rick-loop"` â†’ `"iteration-loop"`
- Description text professionalized

#### [RENAME+MODIFY] `themes/shades_of_the_pickle.json` â†’ `themes/architect.json`
- `"name": "Shades of the Pickle"` â†’ `"name": "Architect"`

#### [MODIFY] [GEMINI.md](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/GEMINI.md)
- Full rewrite to document the renamed "Architect Loop" extension

#### [MODIFY] [README.md](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/README.md)
- Full rewrite with professional documentation

---

### Tests

#### [MODIFY] [cancel.test.ts](file:///c:/Users/ukchim01/Downloads/Ai%20Tools/professional-rick-extension/extension/src/bin/cancel.test.ts)
- Update mock: `pickle-utils.js` â†’ `core-utils.js`

#### [RENAME+MODIFY] `pickle-utils.test.ts` â†’ `core-utils.test.ts`
- Update import: `pickle-utils.js` â†’ `core-utils.js`
- Rename describe block: `'pickle_utils'` â†’ `'core_utils'`

---

## Verification Plan

### Automated Tests

Existing tests cover core utility functions and the cancel module. After renaming, they must still pass:

```bash
cd c:\Users\ukchim01\Downloads\Ai Tools\professional-rick-extension\extension
npm run build    # TypeScript compilation â€” must produce 0 errors
npm test         # Vitest â€” all tests must pass
```

### Cross-Reference Audit

After all changes, run a global search to verify zero remaining references:

```bash
# From the workspace root, search for any remaining themed identifiers
grep -ri "pickle" --include="*.ts" --include="*.js" --include="*.toml" --include="*.json" --include="*.md" .
grep -ri "morty" --include="*.ts" --include="*.js" --include="*.toml" --include="*.md" .
grep -ri "rick" --include="*.ts" --include="*.js" --include="*.toml" --include="*.json" --include="*.md" .
grep -ri "jerry" --include="*.ts" --include="*.js" --include="*.toml" --include="*.md" .
grep -ri "wubba" --include="*.ts" --include="*.js" --include="*.toml" --include="*.md" .
grep -ri "belch" --include="*.ts" --include="*.js" --include="*.toml" --include="*.md" .
grep -ri "solenya" --include="*.ts" --include="*.js" --include="*.toml" --include="*.md" .
```

Expected result: Zero matches except in `prompt/` directory (which documents the conversion itself) and `resources/pickle-rick.png` (binary asset, out of scope).

### Manual Verification

> [!NOTE]
> Since this is a text-only refactoring with no logic changes, functional testing beyond build+test is not required. However, the user should verify:
> 1. The extension installs correctly with `gemini extensions install .`
> 2. Running `/help` shows the updated command list
> 3. Running `/loop` triggers the setup script correctly
