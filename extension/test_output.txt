
 RUN  v4.0.18 C:/Users/ukchim01/Downloads/Ai Tools/professional-rick-extension/extension

 Ô£ô src/services/core-utils.test.ts (4 tests) 4ms
stdout | src/bin/update-state.test.ts > update_state > should update the state file with the given key and value
Successfully updated step to breakdown in \test-session\state.json

 ÔØ» src/bin/update-state.test.ts (2 tests | 1 failed) 18ms
     ├ù should update the state file with the given key and value 14ms
     Ô£ô should throw error if state.json does not exist 2ms
 Ô£ô src/services/pr-factory.test.ts (1 test) 6ms
 Ô£ô src/bin/get-session.test.ts (2 tests) 6ms
 Ô£ô src/services/jar-utils.test.ts (1 test) 9ms
stdout | src/services/git-utils.test.ts > git_utils > update_ticket_status > should update the status in a ticket file
Successfully updated ticket 123 to status "Done"

 ÔØ» src/bin/cancel.test.ts (1 test | 1 failed) 16ms
     ├ù should set active to false in state.json 14ms
 ÔØ» src/services/git-utils.test.ts (3 tests | 1 failed) 19ms
       Ô£ô should return a feat branch name 2ms
       ├ù should update the status in a ticket file 13ms
       Ô£ô should throw error if ticket not found 2ms

ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ» Failed Tests 3 ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»

 FAIL  src/bin/cancel.test.ts > cancel > should set active to false in state.json
AssertionError: expected "vi.fn()" to be called with arguments: [ '/test-session/state.json', ÔÇª(1) ]

Received: 

  1st vi.fn() call:

  [
-   "/test-session/state.json",
-   StringContaining "\"active\": false",
+   "\\test-session\\state.json",
+   "{
+   \"active\": false
+ }",
  ]


Number of calls: 1

 ÔØ» src/bin/cancel.test.ts:31:30

     29|     cancelSession(cwd);
     30| 
     31|     expect(fs.writeFileSync).toHaveBeenCalledWith(
       |                              ^
     32|       statePath,
     33|       expect.stringContaining('"active": false')

ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»[1/3]ÔÄ»

 FAIL  src/bin/update-state.test.ts > update_state > should update the state file with the given key and value
AssertionError: expected "vi.fn()" to be called with arguments: [ '/test-session/state.json', ÔÇª(1) ]

Received: 

  1st vi.fn() call:

  [
-   "/test-session/state.json",
+   "\\test-session\\state.json",
    "{
    \"step\": \"breakdown\",
    \"iteration\": 1
  }",
  ]


Number of calls: 1

 ÔØ» src/bin/update-state.test.ts:22:30
     20|     updateState('step', 'breakdown', sessionDir);
     21| 
     22|     expect(fs.writeFileSync).toHaveBeenCalledWith(
       |                              ^
     23|       statePath,
     24|       JSON.stringify({ step: 'breakdown', iteration: 1 }, null, 2)

ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»[2/3]ÔÄ»

 FAIL  src/services/git-utils.test.ts > git_utils > update_ticket_status > should update the status in a ticket file
AssertionError: expected "vi.fn()" to be called with arguments: [ ÔÇª(2) ]

Received: 

  1st vi.fn() call:

  [
-   "/session/linear_ticket_123.md",
-   StringContaining "status: \"Done\"",
+   "\\session\\linear_ticket_123.md",
+   "---
+ status: \"Done\"
+ updated: \"2026-02-10\"
+ ---
+ Body",
  ]


Number of calls: 1

 ÔØ» src/services/git-utils.test.ts:41:32
     39|       update_ticket_status(ticketId, 'Done', sessionDir);
     40| 
     41|       expect(fs.writeFileSync).toHaveBeenCalledWith(
       |                                ^
     42|         ticketPath,
     43|         expect.stringContaining('status: "Done"')

ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»ÔÄ»[3/3]ÔÄ»

 Test Files  3 failed | 4 passed (7)
      Tests  3 failed | 11 passed (14)
   Start at  21:04:20
   Duration  584ms (transform 725ms, setup 0ms, import 1.14s, tests 77ms, environment 2ms)

