{
  "hooks": {
    "BeforeAgent": [
      {
        "matcher": "*",
        "hooks": [
          {
            "name": "increment-iteration",
            "type": "command",
            "command": "python ${extensionPath}/scripts/dispatch_hook.py increment-iteration",
            "description": "Increments the iteration"
          },
          {
            "name": "reinforce-pickle-persona",
            "type": "command",
            "command": "python ${extensionPath}/scripts/dispatch_hook.py reinforce-persona",
            "description": "Injects persona directives to ensure the agent explains its steps"
          }
        ]
      }
    ],
    "BeforeModel": [
      {
        "matcher": "*",
        "hooks": [
          {
            "name": "check-limit",
            "type": "command",
            "command": "python ${extensionPath}/scripts/dispatch_hook.py check-limit",
            "description": "Checks if the iteration or time limit has been reached"
          }
        ]
      }
    ],
    "AfterAgent": [
      {
        "matcher": "*",
        "hooks": [
          {
            "name": "pickle-rick-loop",
            "type": "command",
            "command": "python ${extensionPath}/scripts/dispatch_hook.py stop-hook",
            "description": "The Pickle Rick infinite loop mechanism"
          }
        ]
      }
    ]
  }
}